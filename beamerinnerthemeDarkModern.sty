%% DarkModern color-theme for LaTeX Beamer
%% By Jan Niklas Schm√§ke created on 21.12.2024
%% https://github.com/schmaeke/BeamerDarkModern

% Load required packages
\RequirePackage{fontawesome5}
\RequirePackage{caption}

% Set size of the inner theme
\setbeamersize{text margin left = 5mm, text margin right = 5mm}

% Remove navigation symbols
\setbeamertemplate{navigation symbols}{}

% Set blocks
\setbeamertemplate{blocks}[rounded][shadow=false]

% Table of contents
\setbeamertemplate{section in toc}{\inserttocsectionnumber.\enspace\inserttocsection}
\setbeamertemplate{subsection in toc}{\enspace\enspace-\enspace\inserttocsubsection\\}

% Enumerate & Itemize settings
\setbeamertemplate{enumerate items}[default]

\setbeamertemplate{itemize item}{\small\faChevronCircleRight}
\setbeamertemplate{itemize subitem}{\small\faChevronRight}
\setbeamertemplate{itemize subsubitem}{\small\faMinus}

% Bibliography settings
\setbeamertemplate{bibliography item}{\color{cyan}\faQuoteRight}

% Title page
\renewcommand{\maketitle}{%
	{
		\usebeamercolor{normal text}
		\begin{frame}[plain]
			\begin{tikzpicture}[remember picture, overlay]
				\usebeamercolor{title}
				\node[rotate = -10, opacity = 0.2] at (current page) {%
					\tikz{\draw[fg] (-\paperwidth, -\paperheight) grid (2\paperwidth, 2\paperheight);}
				};
				\usebeamercolor{normal text}
				\node[below right, shift = {(5mm, -5mm)}] at (current page.north west) {\usebeamerfont{institute}\insertinstitute};

				\node[below right, shift = {(5mm, 5mm)}] (title) at (current page.west) {%
					\usebeamercolor{title}\color{fg}%
					\usebeamerfont{title}%
					\begin{minipage}{0.7\paperwidth}%
						\raggedright\inserttitle%
					\end{minipage}%
				};

				\node[above right, shift = {(0mm, 2mm)}] (author) at (title.north west) {\usebeamerfont{author}\insertauthor};
				\node[above right, shift = {(0mm, 4mm)}] (author.north west) {\usebeamerfont{date}\insertdate};


				\node[above right, shift = {(5mm, 5mm)}] at (current page.south west) {\usebeamerfont{subtitle}\MakeUppercase\insertsubtitle};
			\end{tikzpicture}
		\end{frame}
		\addtocounter{framenumber}{-1}
	}
}

% Captions
\captionsetup{
	labelfont = {sf, bf, small},
	font = {small},
	justification = raggedright
}
